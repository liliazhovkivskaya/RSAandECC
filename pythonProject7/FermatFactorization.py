import gmpy2
import time


def FermatFactor(n):
    assert n % 2 != 0
    a = gmpy2.isqrt(n) + 1
    b2 = gmpy2.square(a) - n
    while not gmpy2.is_square(b2):
        a += 1
        b2 = gmpy2.square(a) - n
    b = gmpy2.isqrt(b2)
    return a + b, a - b


p = 7422236843002619998657542152935407597465626963556444983366482781089760760914403641211700959458736191688739694068306773186013683526913015038631710959988771
q = 7422236843002619998657542152935407597465626963556444983366482781089760759017266051147512413638949173306397011800331344424158682304439958652982994939276427
N = p * q
#p = 7422236843002619998657542152935407597465626963556444983366482781089760760914403641211700959458736191688739694068306773186013683526913015038631710959988771211700959458736191688739694068306773186013683526913015038631710959989843
#q = 7422236843002619998657542152935407597465626963556444983366482781089760760914403641211700959458736191688739694068306773186013983526913015038631710959988771211700959458736191688739694068306773186013683526913015038631710959990177
#N = p * q
#p = 55089599753625499150129246679078411260946554356961748980861372828434789678775273978173129073076898980156694935187038103108232615290006810001372442799685819881408610383725233448780321300741020464814603175123293776534525094267401148058234943013431016492069924973727721333479030158132471592927502739527478730934542712494528957731717975646322262177805916997115412245416391589482095408800420390618693106856783048480295202401179830169656512260015019299772249
#q = 55089599753625499150129246679078411260946554356961748980861372828434789678775273978173129073076898980156694935187038103108232615290006810001372442799685819881408610383725233448780321300741020464814603175123293776534525094267401148058234943013431016492069924973727721333479030158132471592927502739527478730934542712494528957731717975646322262177805916997115412245416391589482095408800420390618693406856783048480295202401179830169656512260015019299772267
#N = p * q
print("N =", N)
start = time.process_time()
(p1, q1) = FermatFactor(N)
end = time.process_time()
print(f'Время Факторизации ферма {end - start:.10f}s.')
if p1 == p:
    print("P Совпадает")
if q1 == q:
    print("Q Совпадает")
if q1 == p:
    print("Совпадает")
